{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateGroup(_ref){let{setGroupId}=_ref;const[groupName,setGroupName]=useState(\"\");const[members,setMembers]=useState([{name:\"\",address:\"\"}]);const handleCreate=async()=>{var _members$;const res=await fetch(\"http://localhost:5000/api/groups\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({groupName,createdBy:(_members$=members[0])===null||_members$===void 0?void 0:_members$.address,// First member is the creator\nmembers})});const data=await res.json();if(data.groupId){alert(\"Group created: \"+data.groupId);setGroupId(data.groupId);}};const handleMemberChange=(index,field,value)=>{const updatedMembers=[...members];updatedMembers[index][field]=value;setMembers(updatedMembers);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create Group\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-3\",placeholder:\"Group Name\",value:groupName,onChange:e=>setGroupName(e.target.value)}),members.map((member,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Member Name\",value:member.name,onChange:e=>handleMemberChange(i,\"name\",e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Wallet Address\",value:member.address,onChange:e=>handleMemberChange(i,\"address\",e.target.value)})})]},i)),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary me-2\",onClick:()=>setMembers([...members,{name:\"\",address:\"\"}]),children:\"+ Add Member\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:handleCreate,children:\"Create Group\"})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","CreateGroup","_ref","setGroupId","groupName","setGroupName","members","setMembers","name","address","handleCreate","_members$","res","fetch","method","headers","body","JSON","stringify","createdBy","data","json","groupId","alert","handleMemberChange","index","field","value","updatedMembers","children","className","placeholder","onChange","e","target","map","member","i","onClick"],"sources":["C:/Users/katas/BlockChainProject/expense-splitter-dapp/src/views/CreateGroup.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function CreateGroup({ setGroupId }) {\r\n  const [groupName, setGroupName] = useState(\"\");\r\n  const [members, setMembers] = useState([{ name: \"\", address: \"\" }]);\r\n\r\n  const handleCreate = async () => {\r\n    const res = await fetch(\"http://localhost:5000/api/groups\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        groupName,\r\n        createdBy: members[0]?.address, // First member is the creator\r\n        members,\r\n      }),\r\n    });\r\n    const data = await res.json();\r\n    if (data.groupId) {\r\n      alert(\"Group created: \" + data.groupId);\r\n      setGroupId(data.groupId);\r\n    }\r\n  };\r\n\r\n  const handleMemberChange = (index, field, value) => {\r\n    const updatedMembers = [...members];\r\n    updatedMembers[index][field] = value;\r\n    setMembers(updatedMembers);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Create Group</h3>\r\n      <input\r\n        className=\"form-control mb-3\"\r\n        placeholder=\"Group Name\"\r\n        value={groupName}\r\n        onChange={(e) => setGroupName(e.target.value)}\r\n      />\r\n\r\n      {members.map((member, i) => (\r\n        <div className=\"row mb-2\" key={i}>\r\n          <div className=\"col-md-6\">\r\n            <input\r\n              className=\"form-control\"\r\n              placeholder=\"Member Name\"\r\n              value={member.name}\r\n              onChange={(e) => handleMemberChange(i, \"name\", e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <input\r\n              className=\"form-control\"\r\n              placeholder=\"Wallet Address\"\r\n              value={member.address}\r\n              onChange={(e) => handleMemberChange(i, \"address\", e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      <button\r\n        className=\"btn btn-secondary me-2\"\r\n        onClick={() => setMembers([...members, { name: \"\", address: \"\" }])}\r\n      >\r\n        + Add Member\r\n      </button>\r\n      <button className=\"btn btn-success\" onClick={handleCreate}>\r\n        Create Group\r\n      </button>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}