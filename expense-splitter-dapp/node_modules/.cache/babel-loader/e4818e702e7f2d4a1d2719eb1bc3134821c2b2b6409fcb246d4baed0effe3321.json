{"ast":null,"code":"import{useState,useEffect}from\"react\";import{BrowserProvider,formatEther}from\"ethers\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(_ref){let{setView,setSigner,signer,view}=_ref;const[account,setAccount]=useState(null);const[balance,setBalance]=useState(\"0\");const connect=async()=>{if(window.ethereum){const provider=new BrowserProvider(window.ethereum);await provider.send(\"eth_requestAccounts\",[]);const signerObj=await provider.getSigner();setSigner(signerObj);const addr=await signerObj.getAddress();setAccount(addr);const bal=await provider.getBalance(addr);setBalance(formatEther(bal));setView(\"dashboard\");}else{alert(\"Please install MetaMask\");}};// Keep account and balance synced when signer changes\nuseEffect(()=>{const update=async()=>{if(signer){const addr=await signer.getAddress();setAccount(addr);const provider=new BrowserProvider(window.ethereum);const bal=await provider.getBalance(addr);setBalance(formatEther(bal));}};update();},[signer]);const isHomeAndNotConnected=view===\"home\"&&!signer;return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark navbar-custom py-3 px-4 shadow-sm sticky-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"navbar-brand fw-bold text-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-coins me-2\"}),\"Expense Splitter\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex ms-auto gap-3 align-items-center\",children:[!isHomeAndNotConnected&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light btn-sm\",onClick:()=>setView(\"dashboard\"),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-warning btn-sm\",onClick:()=>setView(\"groups\"),children:\"Groups\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onClick:()=>setView(\"create\"),children:\"Create Group\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:()=>setView(\"add\"),children:\"Add Expense\"})]}),account&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-light small\",children:[\"\\uD83D\\uDCB0Balance \",parseFloat(balance).toFixed(4),\" ETH\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-light small\",children:[\"\\uD83D\\uDD17 \",account.slice(0,6),\"...\",account.slice(-4)]})]}),!isHomeAndNotConnected&&!account&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-sm\",onClick:connect,children:\"Connect Wallet\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","BrowserProvider","formatEther","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_ref","setView","setSigner","signer","view","account","setAccount","balance","setBalance","connect","window","ethereum","provider","send","signerObj","getSigner","addr","getAddress","bal","getBalance","alert","update","isHomeAndNotConnected","className","children","onClick","parseFloat","toFixed","slice"],"sources":["C:/Users/katas/BlockChainProject/expense-splitter-dapp/src/components/Navbar.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { BrowserProvider, formatEther } from \"ethers\";\r\n\r\nexport default function Navbar({ setView, setSigner, signer, view }) {\r\n  const [account, setAccount] = useState(null);\r\n  const [balance, setBalance] = useState(\"0\");\r\n\r\n  const connect = async () => {\r\n    if (window.ethereum) {\r\n      const provider = new BrowserProvider(window.ethereum);\r\n      await provider.send(\"eth_requestAccounts\", []);\r\n      const signerObj = await provider.getSigner();\r\n      setSigner(signerObj);\r\n\r\n      const addr = await signerObj.getAddress();\r\n      setAccount(addr);\r\n\r\n      const bal = await provider.getBalance(addr);\r\n      setBalance(formatEther(bal));\r\n      setView(\"dashboard\");\r\n    } else {\r\n      alert(\"Please install MetaMask\");\r\n    }\r\n  };\r\n\r\n  // Keep account and balance synced when signer changes\r\n  useEffect(() => {\r\n    const update = async () => {\r\n      if (signer) {\r\n        const addr = await signer.getAddress();\r\n        setAccount(addr);\r\n\r\n        const provider = new BrowserProvider(window.ethereum);\r\n        const bal = await provider.getBalance(addr);\r\n        setBalance(formatEther(bal));\r\n      }\r\n    };\r\n    update();\r\n  }, [signer]);\r\n\r\n  const isHomeAndNotConnected = view === \"home\" && !signer;\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark navbar-custom py-3 px-4 shadow-sm sticky-top\">\r\n      <div className=\"container-fluid\">\r\n        <span className=\"navbar-brand fw-bold text-info\">\r\n          <i className=\"fas fa-coins me-2\"></i>Expense Splitter\r\n        </span>\r\n\r\n        <div className=\"d-flex ms-auto gap-3 align-items-center\">\r\n          {!isHomeAndNotConnected && (\r\n            <>\r\n              <button\r\n                className=\"btn btn-outline-light btn-sm\"\r\n                onClick={() => setView(\"dashboard\")}\r\n              >\r\n                Dashboard\r\n              </button>\r\n              <button\r\n                className=\"btn btn-outline-warning btn-sm\"\r\n                onClick={() => setView(\"groups\")}\r\n              >\r\n               Groups\r\n              </button>\r\n\r\n              <button\r\n                className=\"btn btn-outline-success btn-sm\"\r\n                onClick={() => setView(\"create\")}\r\n              >\r\n                Create Group\r\n              </button>\r\n              <button\r\n                className=\"btn btn-outline-primary btn-sm\"\r\n                onClick={() => setView(\"add\")}\r\n              >\r\n                Add Expense\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {account && (\r\n            <>\r\n              <span className=\"text-light small\">\r\n                ðŸ’°Balance {parseFloat(balance).toFixed(4)} ETH\r\n              </span>\r\n              <span className=\"text-light small\">\r\n                ðŸ”— {account.slice(0, 6)}...{account.slice(-4)}\r\n              </span>\r\n            </>\r\n          )}\r\n\r\n          {!isHomeAndNotConnected && !account && (\r\n            <button className=\"btn btn-success btn-sm\" onClick={connect}>\r\n              Connect Wallet\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}